<div class="adoption-container">
  <div class="hero-section">
    <div class="hero-content">
      <div class="hero-text">
        <h1 class="hero-title">
          Quero <span class="hero-highlight">Adotar</span>
        </h1>
        <p class="hero-subtitle">
          Preencha abaixo para adotar. Caso você tenha interesse em adotar este animalzinho, 
          preencha seus dados abaixo e clique em Enviar.
        </p>
      </div>
    </div>
  </div>

  <div class="adoption-content">
    <div class="container">
      <div class="adoption-form-container">
        <div class="form-header">
          <h2>Formulário de Interesse</h2>
          <div *ngIf="isLoading" class="loading-message">
            <p>Carregando informações do pet...</p>
          </div>
          <div *ngIf="pet && !isLoading" class="pet-info">
            <div class="pet-header">
              <mat-icon class="pet-icon">pets</mat-icon>
              <h3>Interesse em adotar</h3>
            </div>
            
            <div class="pet-details">
              <div class="detail-row">
                <span class="detail-label">Nome:</span>
                <span class="detail-value">{{ pet.name }}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">ID:</span>
                <span class="detail-value">#{{ pet.id }}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Espécie:</span>
                <span class="detail-value">{{ pet.species === 'dog' ? 'Cachorro' : 'Gato' }}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Raça:</span>
                <span class="detail-value">{{ getBreedDisplay(pet.breed, pet.species) }}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Idade:</span>
                <span class="detail-value">{{ pet.age }} meses</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Sexo:</span>
                <span class="detail-value">{{ pet.gender === 'male' ? 'Macho' : 'Fêmea' }}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Cidade:</span>
                <span class="detail-value">{{ pet.city }}</span>
              </div>
            </div>
          </div>
          <div *ngIf="!pet && !isLoading && petId" class="pet-info">
            <p>⚠️ Pet não encontrado para o ID: {{ petId }}</p>
          </div>
          <div *ngIf="!pet && !isLoading && !petId">
            <p>Preencha seus dados de contato para que possamos entrar em contato:</p>
          </div>
        </div>

        <form [formGroup]="adoptionForm" (ngSubmit)="onSubmit()" class="adoption-form">
          <div class="form-section">
            <div class="form-grid">
              <div class="form-group">
                <label for="fullName">Nome *</label>
                <input 
                  type="text" 
                  id="fullName"
                  formControlName="fullName"
                  placeholder="Digite seu nome completo"
                  [class.error]="isFieldInvalid('fullName')"
                >
                <span class="error-message" *ngIf="isFieldInvalid('fullName')">
                  Nome completo é obrigatório
                </span>
              </div>

              <div class="form-group">
                <label for="whatsapp">WhatsApp *</label>
                <input 
                  type="tel" 
                  id="whatsapp"
                  formControlName="whatsapp"
                  placeholder="(11) 99999-9999"
                  [class.error]="isFieldInvalid('whatsapp')"
                >
                <span class="error-message" *ngIf="isFieldInvalid('whatsapp')">
                  WhatsApp é obrigatório
                </span>
              </div>


              <div class="form-group">
                <label for="email">E-mail *</label>
                <input 
                  type="email" 
                  id="email"
                  formControlName="email"
                  placeholder="seu@email.com"
                  [class.error]="isFieldInvalid('email')"
                >
                <span class="error-message" *ngIf="isFieldInvalid('email')">
                  E-mail válido é obrigatório
                </span>
              </div>
            </div>
          </div>

         
          <div class="form-actions">
            <button 
              type="submit" 
              class="submit-btn"
              [disabled]="adoptionForm.invalid || isSubmitting"
            >
              <mat-icon *ngIf="!isSubmitting">send</mat-icon>
              <span *ngIf="!isSubmitting">Enviar</span>
              <span *ngIf="isSubmitting">
                <span class="spinner"></span>
                Enviando...
              </span>
            </button>
            
            <p class="form-note">
              * Campos obrigatórios. Entraremos em contato em breve.
            </p>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="modal-overlay" *ngIf="showSuccessModal" (click)="closeSuccessModal()">
    <div class="success-modal" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <mat-icon class="success-icon">check_circle</mat-icon>
        <h3>Interesse Enviado!</h3>
      </div>
      <div class="modal-content">
        <p>Seu interesse em adoção foi enviado com sucesso!</p>
        <p>Entraremos em contato em breve para dar continuidade ao processo.</p>
      </div>
      <div class="modal-actions">
        <button class="btn-primary" (click)="closeSuccessModal()">
          Entendi
        </button>
      </div>
    </div>
  </div>
</div>